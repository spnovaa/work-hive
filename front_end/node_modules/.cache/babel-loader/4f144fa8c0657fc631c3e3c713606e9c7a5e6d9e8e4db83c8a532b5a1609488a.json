{"ast":null,"code":"var _jsxFileName = \"/Users/atam/Desktop/Front-End/finalproject/src/pages/login.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { login } from '../api/auth';\nimport Cookies from 'js-cookie';\nimport InputField from '../components/InputField';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    setError,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const onSubmit = async data => {\n    try {\n      const response = await login(data);\n      console.log(response);\n      if (response.hasOwnProperty('status') && response.status === 'success') {\n        Cookies.set('jwt', response.token, {\n          secure: true,\n          sameSite: 'Strict'\n        });\n        alert('Login successful!');\n      }\n    } catch (error) {\n      setError('server', {\n        message: error\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gray-100\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      className: \"bg-white p-8 rounded shadow-md w-full max-w-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-6 text-center\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        label: \"Username or Email\",\n        type: \"text\",\n        name: \"username\",\n        register: register // Pass the `register` function correctly\n        ,\n        error: errors.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        label: \"Password\",\n        type: \"password\",\n        name: \"password\",\n        register: register // Pass the `register` function correctly\n        ,\n        error: errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), errors.server && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-sm mb-4 text-center\",\n        children: errors.server.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"bg-blue-500 text-white px-4 py-2 rounded w-full hover:bg-blue-600\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-4 text-sm text-center\",\n        children: [\"Don\\u2019t have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/register\",\n          className: \"text-blue-500 hover:underline\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"qMheUUM+h5nNxmcG9FeqiiDAjWs=\", false, function () {\n  return [useForm];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useForm","login","Cookies","InputField","jsxDEV","_jsxDEV","Login","_s","register","handleSubmit","setError","formState","errors","onSubmit","data","response","console","log","hasOwnProperty","status","set","token","secure","sameSite","alert","error","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","label","type","name","username","password","server","href","_c","$RefreshReg$"],"sources":["/Users/atam/Desktop/Front-End/finalproject/src/pages/login.jsx"],"sourcesContent":["import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { login } from '../api/auth';\nimport Cookies from 'js-cookie';\nimport InputField from '../components/InputField';\n\nconst Login = () => {\n  const {\n    register,\n    handleSubmit,\n    setError,\n    formState: { errors },\n  } = useForm();\n\n  const onSubmit = async (data) => {\n    try {\n      const response = await login(data);\n      console.log(response);\n      if (response.hasOwnProperty('status') && response.status === 'success') {\n        Cookies.set('jwt', response.token, { secure: true, sameSite: 'Strict' });\n        alert('Login successful!');\n      }\n    } catch (error) {\n      setError('server', { message: error });\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n      <form\n        onSubmit={handleSubmit(onSubmit)}\n        className=\"bg-white p-8 rounded shadow-md w-full max-w-sm\"\n      >\n        <h1 className=\"text-2xl font-bold mb-6 text-center\">Login</h1>\n\n        <InputField\n          label=\"Username or Email\"\n          type=\"text\"\n          name=\"username\"\n          register={register} // Pass the `register` function correctly\n          error={errors.username}\n        />\n\n        <InputField\n          label=\"Password\"\n          type=\"password\"\n          name=\"password\"\n          register={register} // Pass the `register` function correctly\n          error={errors.password}\n        />\n\n        {errors.server && (\n          <p className=\"text-red-500 text-sm mb-4 text-center\">\n            {errors.server.message}\n          </p>\n        )}\n\n        <button\n          type=\"submit\"\n          className=\"bg-blue-500 text-white px-4 py-2 rounded w-full hover:bg-blue-600\"\n        >\n          Login\n        </button>\n\n        <p className=\"mt-4 text-sm text-center\">\n          Donâ€™t have an account?{' '}\n          <a href=\"/register\" className=\"text-blue-500 hover:underline\">\n            Register\n          </a>\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}